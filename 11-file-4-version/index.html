<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="author" content="Brian Lennon">
  <meta name="description" content="A course in digital studies: Course notes on the 'file' subtopic 'version'">
  <title>File: Version &middot; Digital Studies</title>
  <!-- CSS -->
  <link rel="stylesheet" href="http://digstud.bitfragment.net/public/css/poole.css">
  <link rel="stylesheet" href="http://digstud.bitfragment.net/public/css/syntax.css">
  <link rel="stylesheet" href="http://digstud.bitfragment.net/public/css/lanyon.css">
  <link rel="stylesheet" href="http://digstud.bitfragment.net/public/css/plus.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://digstud.bitfragment.net/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A course in digital studies</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/">Schedule</a>

    

    
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/01-instructor/">Instructor</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/02-description/">Description</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/02-sites/">Sites</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/04-readings/">Readings</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/05-resources/">Other resources</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/06-assignments/">Assignments</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/07-grading/">Grading</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/08-statements/">Statements</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/09-intro/">Introduction</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/10-bit/">Bit</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/11-file-1/">File</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/11-file-2-document/">File: Document</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item" href="http://digstud.bitfragment.net/11-file-3-program/">File: Program</a>
          
        
      
    
      
        
          
          <a class="sidebar-nav-item active" href="http://digstud.bitfragment.net/11-file-4-version/">File: Version</a>
          
        
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
        
          
        
      
    
  </nav>

  <div class="sidebar-item">
    <p> 2014-09-23</p>
    <p>Course author and site author: <a href="http://english.la.psu.edu/faculty-staff/bul5">Prof. B. Lennon</a></p>
    <p>This work is licensed under a Creative Commons  Attribution-NonCommercial-ShareAlike 4.0 International License.
</p>
    <p>Built with <a href="http://lanyon.getpoole.com/">Lanyon</a>, a <a href="http://jekyllrb.com">Jekyll</a> theme.</p>
  </div>

</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="http://digstud.bitfragment.net/" title="Home">Digital Studies</a>
            <small></small>
          </h3>
        </div>
      </div>
      <div class="container content">
        <div class="page">
  <h1 class="page-title">File: Version</h1>
  
  <div class="vcsinfo">(v0.2.0-17-g24dca07  2014-09-23)</div>
  

  <ul id="markdown-toc">
  <li><a href="#readings">Readings</a></li>
  <li><a href="#what-is-a-version">What is a version?</a></li>
  <li><a href="#everyday-ad-hoc-version-control-file-naming">Everyday ad-hoc version control: file naming</a>    <ul>
      <li><a href="#for-example">For example:</a></li>
      <li><a href="#for-example-1">For example:</a></li>
    </ul>
  </li>
  <li><a href="#file-comparison-diff-and-patch">File comparison, <code>diff</code>, and <code>patch</code></a></li>
  <li><a href="#diff"><code>diff</code></a>    <ul>
      <li><a href="#file1"><code>file1</code>:</a></li>
      <li><a href="#file2"><code>file2</code>:</a></li>
      <li><a href="#output-of-diff-file1-file2">Output of <code>diff file1 file2</code></a></li>
      <li><a href="#output-of-diff--c-file1-file2">Output of <code>diff -c file1 file2</code></a></li>
      <li><a href="#output-of-diff--y-file1-file2">Output of <code>diff -y file1 file2</code></a></li>
      <li><a href="#using-a-gui-application">Using a GUI application</a></li>
    </ul>
  </li>
  <li><a href="#patch"><code>patch</code></a>    <ul>
      <li><a href="#output-of-diff--u-file1-file2">Output of <code>diff -u file1 file2</code></a></li>
      <li><a href="#patching-file1">Patching <code>file1</code></a></li>
    </ul>
  </li>
  <li><a href="#version-control-concepts">Version control concepts</a></li>
  <li><a href="#elements-of-a-version-control-system">Elements of a version control system</a></li>
  <li><a href="#change-history-and-branching">Change history and branching</a></li>
  <li><a href="#history-of-version-control-systems">History of version control systems</a>    <ul>
      <li><a href="#centralized-first-generation-systems">Centralized first generation systems</a></li>
      <li><a href="#centralized-second-generation-systems">Centralized second generation systems</a></li>
      <li><a href="#decentralized-third-generation-systems">Decentralized third generation systems</a></li>
    </ul>
  </li>
  <li><a href="#version-id-numbering">Version ID numbering</a></li>
  <li><a href="#version-control-with-rcs">Version control with RCS</a></li>
  <li><a href="#software-release-lifecycle">Software release lifecycle</a></li>
</ul>

<h2 id="readings">Readings</h2>

<ol class="bibliography"><li><span id="atwood_mixing_2009">Atwood, Jeff. “Mixing Oil And Water: Authorship in a Wiki World.” <i>Coding Horror</i> Feb. 2009. Web.</span>


<span class="entry-url"><a href="http://blog.codinghorror.com/mixing-oil-and-water-authorship-in-a-wiki-world/">Link (remote) →</a></span>



</li>
<li><span id="lehman_history_2012">Lehman, Michael. “The History of Version Control.” Nov. 2012. Web.</span>


<span class="entry-url"><a href="http://www.lynda.com/ALMTFS-tutorials/history-version-control/106788/115979-4.html">Link (remote) →</a></span>



</li>
<li><span id="page_visualising_2009">Page, Roderic D. M. “Visualising Edit History of a Wikipedia Page.” <i>iPhylo</i> Sep. 2009. Web.</span>


<span class="entry-url"><a href="http://iphylo.blogspot.com/2009/09/visualising-edit-history-of-wikipedia.html">Link (remote) →</a></span>



</li>
<li><span id="raymond_understanding_2008">Raymond, Eric. “Understanding Version-Control Systems.” <i>Eric S. Raymond’s Home Page</i> 2008. Web.</span>


<span class="entry-url"><a href="http://www.catb.org/esr/writings/version-control/version-control.html">Link (remote) →</a></span>



</li>
<li><span id="rochkind_source_1975">Rochkind, Marc J. “The Source Code Control System.” <i>IEEE Transactions on Software Engineering</i> SE-1.4 (1975): 364–370. Web.</span>


<span class="entry-url"><a href="http://basepath.com/aup/talks/SCCS-Slideshow.pdf">Link (remote) →</a></span>



</li>
<li><span id="viegas_studying_????">Viégas, Fernanda B., Martin Wattenberg, and Kushal Dave. “Studying Cooperation And Conflict between Authors with History Flow Visualizations.” vol. 6. Vienna, Austria: CHI Letters. 575–582. Web.</span>


<span class="entry-url"><a href="http://alumni.media.mit.edu/~fviegas/papers/history_flow.pdf">Link (remote) →</a></span>



</li></ol>

<h2 id="what-is-a-version">What is a version?</h2>

<ul>
  <li>A concept common to both literary composition and software programmers</li>
  <li>Philology and literary studies developed the concepts of manuscript <em>variant</em> and printed <em>edition</em></li>
  <li>Software programmers have developed especially sophisticated <em>version control</em> or <em>revision control</em> concepts, utilities, and workflows</li>
  <li>These have been incorporated into software for producing new kinds of documents, such as wiki software
    <ul>
      <li>Wikipedia: <a href="http://en.wikipedia.org/w/index.php?title=Wiki&amp;action=history">Revision history page for article “Wiki”</a></li>
      <li><a href="http://blog.codinghorror.com/content/images/uploads/2009/02/6a0120a85dcdae970b012877707d6a970c-pi.gif">Sample visualization</a> of a wiki page edited by three different people at different points in time</li>
    </ul>
  </li>
  <li>IBM <a href="https://www.research.ibm.com/visual/projects/history_flow/index.htm">History Flow</a> project, ca. 2004
    <ul>
      <li>Visual representation of time-series of versions of a document
        <ul>
          <li>Wikipedia
            <ul>
              <li><a href="https://www.research.ibm.com/visual/projects/history_flow/images/calculus1.gif">Calculus</a> (by versions)</li>
              <li><a href="https://www.research.ibm.com/visual/projects/history_flow/images/calculus2.gif">Calculus</a> (by date)</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="everyday-ad-hoc-version-control-file-naming">Everyday ad-hoc version control: file naming</h2>

<h3 id="for-example">For example:</h3>

<pre><code>    engl401paper.doc
    engl401paper-revision.doc
</code></pre>

<h3 id="for-example-1">For example:</h3>

<pre><code>    engl401paper-version1.doc
    engl401paper-version2.doc
</code></pre>

<h2 id="file-comparison-diff-and-patch">File comparison, <code>diff</code>, and <code>patch</code></h2>

<ul>
  <li>Review text editor and word processor, in <a href="">File: Document</a></li>
  <li><a href="http://en.wikipedia.org/wiki/File_comparison">File comparison</a>
    <ul>
      <li>Comparison of text files (documents or programs)</li>
    </ul>
  </li>
  <li><a href="http://en.wikipedia.org/wiki/Diff">diff</a>, early 1970s
    <ul>
      <li>Unix file comparison utility to show changes between two versions of a text file</li>
    </ul>
  </li>
  <li><a href="http://en.wikipedia.org/wiki/Patch_(computing)">patch</a>
    <ul>
      <li>Unix file updating utility that uses output of <code>diff</code></li>
    </ul>
  </li>
</ul>

<h2 id="diff"><code>diff</code></h2>

<h3 id="file1"><code>file1</code>:</h3>

<pre><code>    This is a poem
    about a bear
    who got lost
    in State College
    and ate a dog.
</code></pre>

<h3 id="file2"><code>file2</code>:</h3>

<pre><code>    This is a poem
    about a bear 
    who got lost
    in State College
    and ate a professor.
</code></pre>

<h3 id="output-of-diff-file1-file2">Output of <code>diff file1 file2</code></h3>

<pre><code>    5c5
    &lt; and ate a dog.
    ---
    &gt; and ate a professor.
</code></pre>

<h3 id="output-of-diff--c-file1-file2">Output of <code>diff -c file1 file2</code></h3>

<pre><code>    *** file1   2014-09-28 12:29:40.000000000 -0400
    --- file2   2014-09-28 12:29:51.000000000 -0400
    ***************
    *** 2,5 ****
      about a bear
      who got lost
      in State College
    ! and ate a dog.
    --- 2,5 ----
      about a bear
      who got lost
      in State College
    ! and ate a professor.
</code></pre>

<h3 id="output-of-diff--y-file1-file2">Output of <code>diff -y file1 file2</code></h3>

<pre><code>    This is a poem                   This is a poem
    about a bear                     about a bear
    who got lost                     who got lost
    in State College                 in State College
    and ate a dog.                 | and ate a professor.
</code></pre>

<h3 id="using-a-gui-application">Using a GUI application</h3>

<p><img src="http://digstud.bitfragment.net/public/images/diff-kaleidoscope.png" alt="diff in Kaleidoscope.app" /></p>

<ul>
  <li><a href="http://phatness.com/wp-content/uploads/2011/01/Screen-shot-2011-01-12-at-1.06.26-PM.png">HTML example</a> using Kaleidoscope.app</li>
  <li><a href="https://raw.githubusercontent.com/caseyg/bylaws/master/img/kaleidoscope-screenshot.png">Prose example</a> using Kaleidoscope.app</li>
</ul>

<h2 id="patch"><code>patch</code></h2>

<h3 id="output-of-diff--u-file1-file2">Output of <code>diff -u file1 file2</code></h3>

<pre><code>    --- file1   2014-09-28 12:29:40.000000000 -0400
    +++ file2   2014-09-28 12:29:51.000000000 -0400
    @@ -2,4 +2,4 @@
     about a bear
     who got lost
     in State College
    -and ate a dog.
    +and ate a professor.
</code></pre>

<h3 id="patching-file1">Patching <code>file1</code></h3>

<p><code>file2</code> is a newer, “updated” version of the poem. We want everyone we know to update the older version of the poem (in <code>file1</code>) to the new version. So we distribute the output of <code>diff</code> (with the <code>-u</code> flag) as a “patch file” named <code>bear-poem-update</code>:</p>

<pre><code>    $ diff -u file1 file2 &gt; bear-poem-update.diff
</code></pre>

<p>Individual users can then use the <code>patch</code> utility to update their copies of the poem using the patch file <code>bear-poem-update</code>:</p>

<pre><code>    $ patch &lt; bear-poem-update.diff
    patching file file1
</code></pre>

<p><code>file1</code> has now been updated to contain the new version of the poem:</p>

<pre><code>    $ cat file1
    This is a poem
    about a bear
    who got lost
    in State College
    and ate a professor.
</code></pre>

<h2 id="version-control-concepts">Version control concepts</h2>

<p>Three important capabilities  <a href="#raymond_understanding_2008">(Raymond)</a>:</p>

<ol>
  <li><strong>Reversibility</strong>: “the ability to back up to a saved, known-good state when you discover that some modification you did was a mistake or a bad idea”
    <ul>
      <li>Sophisticated “undo” features</li>
      <li>You have a complete record of versions, so you can <em>revert</em>, or go back to any previous version whenever you need to</li>
    </ul>
  </li>
  <li><strong>Concurrency</strong>: “the ability to have many people modifying the same collection of code or documents knowing that conflicting modifications can be detected and resolved”</li>
  <li><strong>Annotation</strong>: the ability to attach “explanatory comments about the intention behind each change to it and a record of who was responsible for each change”</li>
</ol>

<h2 id="elements-of-a-version-control-system">Elements of a version control system</h2>

<ol>
  <li>Repository
    <ul>
      <li>A concept borrowed from the domain of paper documents</li>
      <li>Data structure representing a storage space</li>
      <li>Elements of a version control repository
        <ul>
          <li>Files and directories</li>
          <li>Descriptions of changes to files and directories</li>
          <li>Data objects representing changes to files and directories</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Master copy</li>
  <li>Working copy “checked out” (copied) for work</li>
  <li>Change history</li>
</ol>

<h2 id="change-history-and-branching">Change history and branching</h2>

<ul>
  <li>Tree structure: trunk and branch</li>
  <li>Trunk
    <ul>
      <li>Like the trunk of a tree</li>
      <li>Series of authoritative versions
        <ul>
          <li>Versions of software actually released</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Branch
    <ul>
      <li>Like the branch of a tree</li>
      <li>Will always be “smaller” than the trunk</li>
      <li>May or may not become structurally significant
        <ul>
          <li>Some branches grow large</li>
          <li>Others remain small</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="history-of-version-control-systems">History of version control systems</h2>

<h3 id="centralized-first-generation-systems">Centralized first generation systems</h3>

<ul>
  <li>Centralized architectures
    <ul>
      <li>Before Internet</li>
      <li>Designed for use on a single machine</li>
    </ul>
  </li>
  <li>Source Code Control System (SCCS), 1972</li>
  <li>Revision Control System (RCS), 1982
    <ul>
      <li>Individual files only</li>
      <li>Local only</li>
    </ul>
  </li>
  <li>Concurrent Versions System (CVS), 1990
    <ul>
      <li>Groups of files simultaneously</li>
      <li>Centralized client-server architecture: a single master repository retains master copies, serves and receives working copies</li>
      <li>After 1994, modified to accommodate networked (Internet) usage</li>
    </ul>
  </li>
</ul>

<h3 id="centralized-second-generation-systems">Centralized second generation systems</h3>

<ul>
  <li>Subversion (SVN), 2004
    <ul>
      <li>Was widely adopted in place of CVS</li>
      <li>Last widely adopted centralized VCS</li>
    </ul>
  </li>
</ul>

<h3 id="decentralized-third-generation-systems">Decentralized third generation systems</h3>

<ul>
  <li>Decentralized architectures
    <ul>
      <li>Each developer can work independently on a complete <em>copy</em> of the “master” repository for a project</li>
      <li>Branching and merging changes is generally easier than in centralized systems</li>
    </ul>
  </li>
  <li>BitKeeper (BK), early 2000s
    <ul>
      <li>Adopted by Linus Torvalds for development of Linux kernel</li>
      <li>Unlike most other VCSs, proprietary (rather than “open source”) software</li>
    </ul>
  </li>
  <li>Git (2005)
    <ul>
      <li>Designed by Linus Torvalds as a non-proprietary alternative to BitKeeper</li>
    </ul>
  </li>
</ul>

<h2 id="version-id-numbering">Version ID numbering</h2>

<ul>
  <li>SCCS style: 1.1 = major version + “.” + minor version</li>
  <li>Many other variations, but <code>major.minor</code> is very popular</li>
  <li>Apple OS X
    <ul>
      <li>Major versions: <code>10.0</code> (“Cheetah”) … <code>10.10</code> (“Yosemite”)</li>
      <li>Minor versions: <code>10.9.0</code> (“Mavericks”) … <code>10.9.5</code> (“Mavericks,” version 5)</li>
    </ul>
  </li>
  <li>Microsoft Windows
    <ul>
      <li>Major versions using <code>major.minor</code>: <code>1.0</code> … <code>3.0</code> (1981-1992)</li>
      <li>Major individual consumer versions using dates: <code>95</code>, <code>98</code>, <code>ME</code> (Millennium) (1995-2000)</li>
      <li>Major versions using brand names: <code>XP</code>, <code>Vista</code> (2001-2006)</li>
      <li>Major versions using <code>major.minor</code>: <code>7.0</code>, <code>8.0</code> (2009-)</li>
    </ul>
  </li>
</ul>

<h2 id="version-control-with-rcs">Version control with RCS</h2>

<p>We are going to edit the poem, changing the line “ate a dog” to “ate a professor” and using RCS to keep track of that change.</p>

<p>First, we “check in” the file to beging tracking its versions:</p>

<pre><code>    $ ci file1
    file1,v  &lt;--  file1
    enter description, terminated with single '.' or end of file:
    NOTE: This is NOT the log message!
    &gt;&gt; Poem about bear.
    initial revision: 1.1
    done
</code></pre>

<p>RCS asks us for a description of the file. Notice also that RCS automatically provides our first version number, <code>1.1</code>.</p>

<p>This creates a file named <code>file1,v</code> (the <code>v</code> marks it as a version control file). Here’s what that file looks like:</p>

<pre><code>    head    1.1;
    access;
    symbols;
    locks; strict;
    comment @# @;

    1.1
    date    2014.09.28.17.00.25;    author blennon; state Exp;
    branches;
    next    ;

    desc
    @Poem about bear.
    @

    1.1
    log
    @Initial revision
    @
    text
    @This is a poem
    about a bear
    who got lost
    in downtown State College
    and ate a dog.
    @
</code></pre>

<p>Now we “check out” a working copy of the file so we can edit it.</p>

<pre><code>    $ co -l file1
</code></pre>

<p>We open an editor and change the line “ate a dog” to “ate a professor.” Then we check the file back in, this time providing a description of the change we made:</p>

<pre><code>    $ ci file1
    file1,v  &lt;--  file1
    new revision: 1.2; previous revision: 1.1
    enter log message, terminated with single '.' or end of file:
    &gt;&gt; Change "ate a dog" to "ate a professor"
    done
</code></pre>

<p>Notice also that RCS automatically increments our version number from <code>1.1</code> to <code>1.2</code>. Here’s what the file <code>file1,v</code> looks like now:</p>

<pre><code>    head    1.2;
    access;
    symbols;
    locks; strict;
    comment @# @;

    1.2
    date    2014.09.28.17.01.49;    author blennon; state Exp;
    branches;
    next    1.1;

    1.1
    date    2014.09.28.17.00.25;    author blennon; state Exp;
    branches;
    next    ;

    desc
    @Poem about bear.
    @

    1.2
    log
    @Change "ate a dog" to "ate a professor"
    @
    text
    @This is a poem
    about a bear
    who got lost
    in downtown State College
    and ate a professor.
    @

    1.1
    log
    @Initial revision
    @
    text
    @d5 1
    a5 1
    and ate a dog.
    @
</code></pre>

<p>We can also look at the log (history) of versions and changes made to the file:</p>

<pre><code>    $ rlog file1

    RCS file: file1,v
    Working file: file1
    head: 1.2
    branch:
    locks: strict
    access list:
    symbolic names:
    keyword substitution: kv
    total revisions: 2; selected revisions: 2
    description:
    Poem about bear.
    ----------------------------
    revision 1.2
    date: 2014/09/28 17:01:49;  author: blennon;  state: Exp;  lines: +1 -1
    Change "ate a dog" to "ate a professor"
    ----------------------------
    revision 1.1
    date: 2014/09/28 17:00:25;  author: blennon;  state: Exp;
    Initial revision
</code></pre>

<h2 id="software-release-lifecycle">Software release lifecycle</h2>

<ol>
  <li>“Alpha” and “beta” versions
    <ul>
      <li>Preliminary versions for testing purposes only, not full release or “shipping”</li>
      <li>Borrowed from Greek alphabet: Α α alpha, Β β beta</li>
    </ul>
  </li>
  <li>Sequence of released versions</li>
  <li>End of life stage: no further development or support
    <ul>
      <li>Deliberately discontinued</li>
      <li>Abandoned (“abandonware”)</li>
    </ul>
  </li>
</ol>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
